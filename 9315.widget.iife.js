"undefined"!=typeof globalThis&&(void 0===globalThis.process&&(globalThis.process={env:{NODE_ENV:"production"},browser:!0,version:"",versions:{}}),void 0===globalThis.require&&(globalThis.require=function(e){if("process/browser"===e||"process"===e)return globalThis.process;throw new Error("Module not found: "+e)})),"undefined"!=typeof window&&(void 0===window.process&&(window.process={env:{NODE_ENV:"production"},browser:!0,version:"",versions:{}}),void 0===window.require&&(window.require=function(e){if("process/browser"===e||"process"===e)return window.process;throw new Error("Module not found: "+e)})),"undefined"!=typeof global&&(void 0===global.process&&(global.process={env:{NODE_ENV:"production"},browser:!0,version:"",versions:{}}),void 0===global.require&&(global.require=function(e){if("process/browser"===e||"process"===e)return global.process;throw new Error("Module not found: "+e)})),"undefined"!=typeof self&&(void 0===self.process&&(self.process={env:{NODE_ENV:"production"},browser:!0,version:"",versions:{}}),void 0===self.require&&(self.require=function(e){if("process/browser"===e||"process"===e)return self.process;throw new Error("Module not found: "+e)})),(this.webpackChunkHLWidget=this.webpackChunkHLWidget||[]).push([[9315],{29315:(e,r,s)=>{s.d(r,{offchainLookup:()=>m,offchainLookupSignature:()=>g});var o=s(84094),a=s(64961),t=s(59658),n=s(61289);class c extends t.C{constructor({callbackSelector:e,cause:r,data:s,extraData:o,sender:a,urls:t}){super(r.shortMessage||"An error occurred while fetching for an offchain result.",{cause:r,metaMessages:[...r.metaMessages||[],r.metaMessages?.length?"":[],"Offchain Gateway Call:",t&&["  Gateway URL(s):",...t.map(e=>`    ${(0,n.I)(e)}`)],`  Sender: ${a}`,`  Data: ${s}`,`  Callback selector: ${e}`,`  Extra data: ${o}`].flat(),name:"OffchainLookupError"})}}class i extends t.C{constructor({result:e,url:r}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${(0,n.I)(r)}`,`Response: ${(0,a.A)(e)}`],name:"OffchainLookupResponseMalformedError"})}}class d extends t.C{constructor({sender:e,to:r}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${r}`,`OffchainLookup sender address: ${e}`],name:"OffchainLookupSenderMismatchError"})}}var u=s(98397),l=s(95884),p=s(8669),f=s(1175),w=s(43421),h=s(74924),b=s(36416);const g="0x556f1830",y={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function m(e,{blockNumber:r,blockTag:s,data:a,to:t}){const{args:n}=(0,l.W)({data:a,abi:[y]}),[i,u,h,g,m]=n,{ccipRead:k}=e,E=k&&"function"==typeof k?.request?k.request:v;try{if(!(0,f.h)(t,i))throw new d({sender:i,to:t});const a=u.includes(b.J)?await(0,b.X)({data:h,ccipRequest:E}):await E({data:h,sender:i,urls:u}),{data:n}=await(0,o.T)(e,{blockNumber:r,blockTag:s,data:(0,w.xW)([g,(0,p.h)([{type:"bytes"},{type:"bytes"}],[a,m])]),to:t});return n}catch(e){throw new c({callbackSelector:g,cause:e,data:a,extraData:m,sender:i,urls:u})}}async function v({data:e,sender:r,urls:s}){let o=new Error("An unknown error occurred.");for(let t=0;t<s.length;t++){const n=s[t],c=n.includes("{data}")?"GET":"POST",d="POST"===c?{data:e,sender:r}:void 0,l="POST"===c?{"Content-Type":"application/json"}:{};try{const s=await fetch(n.replace("{sender}",r.toLowerCase()).replace("{data}",e),{body:JSON.stringify(d),headers:l,method:c});let t;if(t=s.headers.get("Content-Type")?.startsWith("application/json")?(await s.json()).data:await s.text(),!s.ok){o=new u.Ci({body:d,details:t?.error?(0,a.A)(t.error):s.statusText,headers:s.headers,status:s.status,url:n});continue}if(!(0,h.q)(t)){o=new i({result:t,url:n});continue}return t}catch(e){o=new u.Ci({body:d,details:e.message,url:n})}}throw o}}}]);
//# sourceMappingURL=9315.widget.iife.js.map